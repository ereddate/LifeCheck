<view class="container">
  <view class="header">
    <text class="title">å¥½å‹åˆ—è¡¨</text>
    <text class="count">å…± {{totalFriends}} ä½å¥½å‹</text>
  </view>

  <view class="actions">
    <button class="action-btn" bindtap="goToMessages">
      <text class="action-icon">ğŸ’¬</text>
      <text class="action-text">æ¶ˆæ¯</text>
      <view class="unread-badge" wx:if="{{unreadCount > 0}}">
        <text class="unread-count">{{unreadCount}}</text>
      </view>
    </button>
  </view>

  <view class="friends-list">
    <block wx:for="{{friends}}" wx:key="id">
      <view class="friend-item">
        <image class="friend-avatar" src="{{item.avatar_url || '/images/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="friend-info">
          <text class="friend-name">{{item.nickname || item.username}}</text>
          <text class="friend-intimacy">äº²å¯†åº¦: {{item.intimacy_score}}</text>
        </view>
        <button class="remind-btn" bindtap="remindFriend" data-id="{{item.id}}" data-name="{{item.nickname || item.username}}">
          æé†’æ‰“å¡
        </button>
      </view>
    </block>
  </view>

  <view class="loading-container" wx:if="{{isLoading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <view class="no-more" wx:if="{{!hasMore && friends.length > 0}}">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šå¥½å‹äº†</text>
  </view>

  <view class="empty-container" wx:if="{{friends.length === 0 && !isLoading}}">
    <text class="empty-text">æš‚æ— å¥½å‹</text>
  </view>
</view>