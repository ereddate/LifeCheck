<view class="container">
  <view class="header">
    <text class="header-title">我的打卡</text>
    <text class="header-subtitle">记录每一个重要时刻</text>
  </view>

  <view class="stats-container">
    <view class="stat-item">
      <text class="stat-num">{{totalCount}}</text>
      <text class="stat-label">总打卡</text>
    </view>
    <view class="stat-item">
      <text class="stat-num">{{todayCount}}</text>
      <text class="stat-label">今日</text>
    </view>
    <view class="stat-item">
      <text class="stat-num">{{streakDays}}</text>
      <text class="stat-label">连续天数</text>
    </view>
  </view>

  <view class="filter-bar">
    <view class="filter-item {{filterType === 'all' ? 'active' : ''}}" bindtap="switchFilter" data-type="all">全部</view>
    <view class="filter-item {{filterType === 'daily' ? 'active' : ''}}" bindtap="switchFilter" data-type="daily">每日</view>
    <view class="filter-item {{filterType === 'weekly' ? 'active' : ''}}" bindtap="switchFilter" data-type="weekly">每周</view>
    <view class="filter-item {{filterType === 'monthly' ? 'active' : ''}}" bindtap="switchFilter" data-type="monthly">每月</view>
  </view>

  <view class="checkin-list">
    <block wx:for="{{checkinList}}" wx:key="_id">
      <view class="checkin-card card" bindtap="goToDetail" data-id="{{item._id}}">
        <view class="card-header">
          <text class="checkin-title text-title">{{item.title}}</text>
          <view class="checkin-tag {{item.type}}">{{item.typeName}}</view>
        </view>
        <text class="checkin-desc text-desc">{{item.description}}</text>
        <view class="card-footer">
          <text class="checkin-time text-secondary">{{item.lastCheckTime}}</text>
          <view class="checkin-status {{item.checkedToday ? 'checked' : ''}}">
            <text>{{item.checkedToday ? '今日已打卡' : '今日未打卡'}}</text>
          </view>
        </view>
      </view>
    </block>
    <view wx:if="{{checkinList.length === 0}}" class="empty-state">
      <text class="empty-text">暂无打卡记录，点击下方添加按钮创建</text>
    </view>
  </view>
</view>