<view class="container">
  <!-- 修改密码区域 -->
  <view class="section card">
    <view class="item" bindtap="showChangePasswordModal">
      <text class="label">修改密码</text>
      <text class="arrow">›</text>
    </view>
  </view>

  <view class="section card">
    <view class="item" bindtap="clearCache">
      <text class="label">清除缓存</text>
      <text class="arrow">›</text>
    </view>
  </view>

  <view class="section card">
    <view class="item danger" bindtap="logout">
      <text class="label danger-label">退出登录</text>
      <text class="arrow">›</text>
    </view>
  </view>

  <!-- 修改密码弹窗 -->
  <view class="modal" wx:if="{{showPasswordModal}}">
    <view class="modal-overlay" bindtap="hidePasswordModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">修改密码</text>
        <text class="modal-close" bindtap="hidePasswordModal">×</text>
      </view>
      <form bindsubmit="changePassword">
        <view class="input-group">
          <input class="input" name="oldPassword" placeholder="请输入当前密码" password="{{true}}" />
        </view>
        <view class="input-group">
          <input class="input" name="newPassword" placeholder="请输入新密码" password="{{true}}" />
        </view>
        <view class="input-group">
          <input class="input" name="confirmNewPassword" placeholder="请确认新密码" password="{{true}}" />
        </view>
        <button class="btn-primary" form-type="submit">确认修改</button>
      </form>
    </view>
  </view>

  <view class="footer">
    <text class="version">人生打卡 v1.0</text>
  </view>
</view>